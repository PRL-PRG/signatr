---
title: "signatr"
output: html_document
params:
  package: "stringr"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tibble)

data_dir <- "/mnt/data/signatr-experiment-hyeyoung/run/experiment/"

package_files <- list.files(path = data_dir, pattern = paste0(params$package, "*"))

data <- readRDS(paste0(data_dir, package_files[[1]]))
```

### The Result of Experiment

At the moment, the data generated by signatr can be understood as the result of running subject functions with randomly generated values. Each row contains the result of a run and so the number of rows match the number of trials (or budget). There are 12 columns 

```{r include=TRUE}
tibble_data <- as_tibble(data)
print(tibble_data)
```



```{r}
tibble_data[0,]
```

+ package
+ fun_name
+ num_params
+ **types**       : signatr internal types used to generate random values (will be updated to interface with the database)
+ input
+ output
+ **exitval**     : 0L success 1L warning 2L error 3L skip (num_params > 9 or 10)
+ warnmsg
+ errmsg
+ **input_type**  : inferred by contractr
+ **output_type** : inferred by contractr
+ **sig**         : signature put together as input_type (separated by 'x') -> output_type


### The Rate of Success

The rate of success is calculated by the number of unique signatures inferred / the number of unique input type tried.

```{r}
success <- read.csv(paste0(data_dir, package_files[[2]]))
success
```

